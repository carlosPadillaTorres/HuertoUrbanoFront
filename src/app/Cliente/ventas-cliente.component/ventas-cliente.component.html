<app-barra-navegacion></app-barra-navegacion>

<main class="main-content">
  <h2>Registro de compras</h2>

  <div class="purchases-container">
    <!-- Primera compra -->
    @if (ventasCliente.length <= 0){
       <h5 class="msg">No tienes compras registradas</h5>
      }
      @for(ventaC of ventasCliente; track ventaC.idVenta){
      <div class="purchase-card">
        <div class="purchase-left">
          <div class="purchase-date">Fecha de compra:{{ventaC.fechaVenta}}</div>

          <table class="table table-striped">
            <thead>
              <tr>
                <th>Nombre</th>
                <th>Precio</th>
                <th>Cantidad</th>
              </tr>
            </thead>
            <tbody>
              @for (detalleV of ventaC.detalles; track detalleV.idDetalleVenta){
              <tr>
                <td>{{ detalleV.nombreProducto }}</td>
                <td>{{ detalleV.precioUnitario }}</td>
                <td>{{ detalleV.cantidad }}</td>
              </tr>
              }
            </tbody>
          </table>

        </div>
        <div class="purchase-right">
          @if(ventaC.estatus){
          <div class="purchase-status status-entregado">Entregado</div>
          }@else{
          <div class="purchase-status status-proceso">En proceso</div>
          }
          <div class="purchase-price"><b>${{ventaC.total}}</b></div>
        </div>
      </div>
      }


  </div>
</main>

<button (click)="cargaVentas()" class="button">
  RECARGA
</button>

<!-- Botón flotante del carrito -->
<button class="cart-button">
  Carrito
</button>

  <div class="modal-overlay">
    <div class="modal-container">
      <div class="modal-header">
        <h3 class="modal-title">Detalles de la compra</h3>
        <button class="modal-close">&times;</button>
      </div>
      <div class="modal-content">

        <div class="modal-product">
          <div class="product-image-placeholder">
            <img
              src="https://images.unsplash.com/photo-1689308271305-58e75832289b?fm=jpg&q=60&w=3000&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"
              alt="Producto">
          </div>
          <div class="product-info">
            <div class="product-name">Sensor 2A</div>
            <div class="product-description">
              En este apartado se encontrarán los detalles del componente
            </div>
            <div class="product-details-text">*Detalles detallosos</div>
          </div>
          <div class="product-right">
            <div class="product-quantity-label">Cantidad</div>
            <div class="product-quantity">1</div>
            <div class="product-price">$99.99</div>
          </div>
        </div>


      </div>
    </div>
  </div>

<app-footer></app-footer>
