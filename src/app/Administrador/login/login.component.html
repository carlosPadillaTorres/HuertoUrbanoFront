<div class="login-page-wrapper">
  <div class="login-container">
    <div class="login-left">
      <div class="logo">TechGuardian Solutions</div>
      <div class="welcome-text">¬°Bienvenido de vuelta!</div>
      <div class="welcome-subtitle">
        Accede a tu cuenta para gestionar tus proyectos Arduino y explorar nuestras soluciones tecnol√≥gicas especializadas.
      </div>
    </div>

    <div class="login-right">
      <div class="form-container">
        <div class="form-header">
          <h2>Acceso a tu cuenta</h2>
          <p>Ingresa tus credenciales para continuar</p>
        </div>

        <div class="form-tabs">
          <div class="form-tab" [class.active]="activeTab === 'login'" (click)="switchTab('login')">Iniciar Sesi√≥n</div>
          <div class="form-tab" [class.active]="activeTab === 'register'" (click)="switchTab('register')">Registrarse</div>
        </div>

        <!-- FORM LOGIN -->
        <div id="login-form" class="form-content" [class.active]="activeTab === 'login'">
          <form #loginForm="ngForm" (ngSubmit)="handleLogin(loginForm)">
            <div class="form-group">
              <label for="login-email">Nombre de usuario</label>
              <input type="email" id="login-email" name="email" [(ngModel)]="loginData.email" placeholder="tu@email.com" required>
            </div>
            <div class="form-group">
              <label for="login-password">Contrase√±a</label>
              <input type="password" id="login-password" name="password" [(ngModel)]="loginData.password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>
            </div>
            <button type="submit" class="form-button">Iniciar Sesi√≥n</button>
            <div class="error-message" *ngIf="loginError">{{ loginError }}</div>
            <div class="success-message" *ngIf="loginSuccess">{{ loginSuccess }}</div>
          </form>
          <div class="forgot-password">
            <a href="#" (click)="showForgotPassword($event)">¬øOlvidaste tu contrase√±a?</a>
          </div>
        </div>

        <!-- FORM REGISTRO -->
        <div id="register-form" class="form-content" [class.active]="activeTab === 'register'">
          <div style="max-height: 400px; overflow-y: auto; padding-right: 10px;">
            <form #registerForm="ngForm" (ngSubmit)="handleRegister(registerForm)">

              <h3>Datos Personales</h3>
              <div class="form-group">
                <label>Apellido Paterno</label>
                <input type="text" name="apPaterno" [(ngModel)]="clienteRegisterData.persona.apPaterno" required>
              </div>
              <div class="form-group">
                <label>Apellido Materno</label>
                <input type="text" name="apMaterno" [(ngModel)]="clienteRegisterData.persona.apMaterno" required>
              </div>
              <div class="form-group">
                <label>Nombre</label>
                <input type="text" name="nombre" [(ngModel)]="clienteRegisterData.persona.nombre" required>
              </div>
              <div class="form-group">
                <label>Fecha de Nacimiento</label>
                <input type="date" name="fechaNacimiento" [(ngModel)]="clienteRegisterData.persona.fechaNacimiento" required>
              </div>
              <div class="form-group">
                <label>Correo Electr√≥nico</label>
                <input type="email" name="email" [(ngModel)]="clienteRegisterData.persona.email" required>
              </div>
              <div class="form-group">
                <label>Tel√©fono</label>
                <input type="tel" name="telefono" [(ngModel)]="clienteRegisterData.persona.telefono" required>
              </div>
              <div class="form-group">
                <label>G√©nero</label>
                <select name="genero" [(ngModel)]="clienteRegisterData.persona.genero" required>
                  <option value="" disabled selected>Seleccione...</option>
                  <option value="M">Masculino</option>
                  <option value="F">Femenino</option>
                  <option value="O">Otro</option>
                </select>
              </div>

              <h3>Domicilio</h3>
              <div class="form-group">
                <label>Calle</label>
                <input type="text" name="calle" [(ngModel)]="clienteRegisterData.persona.domicilio.calle" required>
              </div>
              <div class="form-group">
                <label>N√∫mero</label>
                <input type="text" name="numero" [(ngModel)]="clienteRegisterData.persona.domicilio.numero" required>
              </div>
              <div class="form-group">
                <label>Colonia</label>
                <input type="text" name="colonia" [(ngModel)]="clienteRegisterData.persona.domicilio.colonia" required>
              </div>
              <div class="form-group">
                <label>C√≥digo Postal</label>
                <input type="text" name="codigoPostal" [(ngModel)]="clienteRegisterData.persona.domicilio.codigoPostal" required>
              </div>

              <div class="form-group">
                <label>Ciudad</label>
                <select name="ciudad" class="form-select" [(ngModel)]="clienteRegisterData.persona.domicilio.idCiudad" required>
                  <option value="" disabled selected>Seleccione...</option>
                  @for (ciudad of ciudades; track ciudad.idCiudad){
                     <option [ngValue]="ciudad.idCiudad" value="ciudad.idCiudad">{{ciudad.nombreCiudad}}</option>
                  }
                </select>
              </div>

              <h3>Datos de Usuario</h3>
              <div class="form-group">
                <label>Nombre de Usuario</label>
                <input type="text" name="nombreUsuario" [(ngModel)]="clienteRegisterData.usuario.nombreUsuario" required>
              </div>
              <div class="form-group">
                <label>Contrase√±a</label>
                <input type="password" name="contrasenia" [(ngModel)]="clienteRegisterData.usuario.contrasenia" required minlength="6">
              </div>
              <div class="form-group">
                <label>Confirmar Contrase√±a</label>
                <input type="password" name="confirm" [(ngModel)]="confirmarContrasenia" required>
              </div>

              <button type="submit" class="form-button">Crear Cuenta</button>
              <div class="error-message" *ngIf="registerError">{{ registerError }}</div>
              <div class="success-message" *ngIf="registerSuccess">{{ registerSuccess }}</div>
            </form>
          </div>
        </div>

        <div class="divider">
          <span>O contin√∫a con</span>
        </div>

        <div class="social-login">
          <button class="social-btn" (click)="socialLogin('google')">
            <span>üîç</span> Google
          </button>
          <button class="social-btn" (click)="socialLogin('github')">
            <span>‚ö´</span> GitHub
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
